# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Verify that the user can rename and delete a document from the dashboard Recently sent for signatures.
- Location: /home/runner/work/OpenSign-Tests/OpenSign-Tests/tests/MainAppPages/Dashboard.spec.js:795:1

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)

Locator: locator('#renderList')
- Expected string  - 1
+ Received string  + 2

- Record deleted successfully!
+ Sign yourselfUse this option to sign the document yourself without adding othersRequest signaturesUse this option to request signatures from others and yourself together.Need your signature42Out for signatures416Recent signature requests TitleFileOwnerSignersActionSample-joining-letterExpires 15-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 15-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 10-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 10-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 10-May-2025DownloadPravin Testing accountViewsignPrev123...9NextRecently sent for signatures TitleFileOwnerSignersActionOffer Letter for QA11Expires 15-May-2025DownloadPravin Testing accountViewSample document Self signExpires 15-May-2025DownloadPravin Testing accountViewSample document Self signExpires 15-May-2025DownloadPravin Testing accountViewSample document Self signExpires 15-May-2025DownloadPravin Testing accountViewCreate templateExpires 15-May-2025DownloadPravin Testing accountViewPrev1234NextDrafts TitleNoteFolderFileOwnerSignersActionSample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing accountViewDraft doc rpt Sample offer letterNote Draft doc rptOpenSignâ„¢ DriveDownloadPravin Testing account-Sample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing accountViewSample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing account-Sample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing accountViewPrev1234NextAll rights reserved Â© 2025 Â OpenSignâ„¢ ( version: v2.19.2
+ )
Call log:
  - expect.toContainText with timeout 5000ms
  - waiting for locator('#renderList')
    5 Ã— locator resolved to <div id="renderList" class="relative h-screen flex flex-col justify-between w-full overflow-y-auto">â€¦</div>
      - unexpected value "Sign yourselfUse this option to sign the document yourself without adding othersRequest signaturesUse this option to request signatures from others and yourself together.Need your signature42Out for signatures416Recent signature requests TitleFileOwnerSignersActionSample-joining-letterExpires 15-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 15-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 10-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 10-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 10-May-2025DownloadPravin Testing accountViewsignPrev123...9NextDocument updatedRecently sent for signatures TitleFileOwnerSignersActionSample-joining-letter-2025Expires 15-May-2025DownloadPravin Testing accountViewOffer Letter for QA11Expires 15-May-2025DownloadPravin Testing accountViewSample document Self signExpires 15-May-2025DownloadPravin Testing accountViewSample document Self signExpires 15-May-2025DownloadPravin Testing accountViewSample document Self signExpires 15-May-2025DownloadPravin Testing accountViewPrev1234NextDrafts TitleNoteFolderFileOwnerSignersActionSample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing accountViewDraft doc rpt Sample offer letterNote Draft doc rptOpenSignâ„¢ DriveDownloadPravin Testing account-Sample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing accountViewSample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing account-Sample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing accountViewPrev1234NextAll rights reserved Â© 2025 Â OpenSignâ„¢ ( version: v2.19.2
)"
    4 Ã— locator resolved to <div id="renderList" class="relative h-screen flex flex-col justify-between w-full overflow-y-auto">â€¦</div>
      - unexpected value "Sign yourselfUse this option to sign the document yourself without adding othersRequest signaturesUse this option to request signatures from others and yourself together.Need your signature42Out for signatures416Recent signature requests TitleFileOwnerSignersActionSample-joining-letterExpires 15-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 15-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 10-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 10-May-2025DownloadPravin Testing accountViewsignSample-joining-letterExpires 10-May-2025DownloadPravin Testing accountViewsignPrev123...9NextRecently sent for signatures TitleFileOwnerSignersActionOffer Letter for QA11Expires 15-May-2025DownloadPravin Testing accountViewSample document Self signExpires 15-May-2025DownloadPravin Testing accountViewSample document Self signExpires 15-May-2025DownloadPravin Testing accountViewSample document Self signExpires 15-May-2025DownloadPravin Testing accountViewCreate templateExpires 15-May-2025DownloadPravin Testing accountViewPrev1234NextDrafts TitleNoteFolderFileOwnerSignersActionSample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing accountViewDraft doc rpt Sample offer letterNote Draft doc rptOpenSignâ„¢ DriveDownloadPravin Testing account-Sample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing accountViewSample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing account-Sample document Self signSelf sign sample NoteOpenSignâ„¢ DriveDownloadPravin Testing accountViewPrev1234NextAll rights reserved Â© 2025 Â OpenSignâ„¢ ( version: v2.19.2
)"

    at /home/runner/work/OpenSign-Tests/OpenSign-Tests/tests/MainAppPages/Dashboard.spec.js:872:45
```

# Page snapshot

```yaml
- text: "New feature: Protect your account with Two-Factor Authentication (2FA) and enjoy the future of login with Passkeys â€” no passwords needed. â€” Setup now."
- img
- text: ï€
- button "ïƒ‰"
- img "logo"
- text: TEAM
- button "ïŒž"
- img "img"
- button "Pravin Testing account"
- button "ï„‡"
- complementary:
  - img "Profile"
  - paragraph: Pravin Testing account
  - paragraph: OpenSign pvt ltd
  - navigation "OpenSign Sidebar Navigation":
    - menubar "OpenSign Sidebar Navigation":
      - menuitem "Dashboard"
      - menuitem "Sign yourself"
      - menuitem "Request signatures"
      - button "ï‡ª Templates"
      - menuitem "OpenSignâ„¢ Drive"
      - button "ïŠ» Documents"
      - menuitem "Contactbook"
      - button "ï€“ Settings"
  - link "OpenSign's Github"
  - link "OpenSign's LinkedIn"
  - link "OpenSign's Twitter"
  - link "OpenSign's Discord"
- text: ï–­ Sign yourself Use this option to sign the document yourself without adding others ï‡˜ Request signatures Use this option to request signatures from others and yourself together. ï–· Need your signature 42
- superscript: "?"
- text: ï‹µ Out for signatures 416
- superscript: "?"
- text: Recent signature requests
- table:
  - rowgroup:
    - row "Title File Owner Signers Action":
      - cell "Title"
      - cell "File"
      - cell "Owner"
      - cell "Signers"
      - cell "Action"
  - rowgroup:
    - row "Sample-joining-letter Expires 15-May-2025 Download Pravin Testing account View ï–· sign":
      - cell "Sample-joining-letter Expires 15-May-2025"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ï–· sign":
        - button "ï–· sign"
    - row "Sample-joining-letter Expires 15-May-2025 Download Pravin Testing account View ï–· sign":
      - cell "Sample-joining-letter Expires 15-May-2025"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ï–· sign":
        - button "ï–· sign"
    - row "Sample-joining-letter Expires 10-May-2025 Download Pravin Testing account View ï–· sign":
      - cell "Sample-joining-letter Expires 10-May-2025"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ï–· sign":
        - button "ï–· sign"
    - row "Sample-joining-letter Expires 10-May-2025 Download Pravin Testing account View ï–· sign":
      - cell "Sample-joining-letter Expires 10-May-2025"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ï–· sign":
        - button "ï–· sign"
    - row "Sample-joining-letter Expires 10-May-2025 Download Pravin Testing account View ï–· sign":
      - cell "Sample-joining-letter Expires 10-May-2025"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ï–· sign":
        - button "ï–· sign"
- button "Prev"
- button "1"
- button "2"
- button "3"
- button "..." [disabled]
- button "9"
- button "Next"
- text: Recently sent for signatures
- table:
  - rowgroup:
    - row "Title File Owner Signers Action":
      - cell "Title"
      - cell "File"
      - cell "Owner"
      - cell "Signers"
      - cell "Action"
  - rowgroup:
    - row "Offer Letter for QA11 Expires 15-May-2025 Download Pravin Testing account View ï¤ ï® ï…‚":
      - cell "Offer Letter for QA11 Expires 15-May-2025"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ï¤ ï® ï…‚":
        - button "ï¤"
        - button "ï®"
        - button "ï…‚"
    - row "Sample document Self sign Expires 15-May-2025 Download Pravin Testing account View ï¤ ï® ï…‚":
      - cell "Sample document Self sign Expires 15-May-2025"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ï¤ ï® ï…‚":
        - button "ï¤"
        - button "ï®"
        - button "ï…‚"
    - row "Sample document Self sign Expires 15-May-2025 Download Pravin Testing account View ï¤ ï® ï…‚":
      - cell "Sample document Self sign Expires 15-May-2025"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ï¤ ï® ï…‚":
        - button "ï¤"
        - button "ï®"
        - button "ï…‚"
    - row "Sample document Self sign Expires 15-May-2025 Download Pravin Testing account View ï¤ ï® ï…‚":
      - cell "Sample document Self sign Expires 15-May-2025"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ï¤ ï® ï…‚":
        - button "ï¤"
        - button "ï®"
        - button "ï…‚"
    - row "Create template Expires 15-May-2025 Download Pravin Testing account View ï¤ ï® ï…‚":
      - cell "Create template Expires 15-May-2025"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ï¤ ï® ï…‚":
        - button "ï¤"
        - button "ï®"
        - button "ï…‚"
- button "Prev"
- button "1"
- button "2"
- button "3"
- button "4"
- button "Next"
- text: Drafts
- table:
  - rowgroup:
    - row "Title Note Folder File Owner Signers Action":
      - cell "Title"
      - cell "Note"
      - cell "Folder"
      - cell "File"
      - cell "Owner"
      - cell "Signers"
      - cell "Action"
  - rowgroup:
    - row "Sample document Self sign Self sign sample Note OpenSignâ„¢ Drive Download Pravin Testing account View ïŒ„ ï‡¸ ï…‚":
      - cell "Sample document Self sign"
      - cell "Self sign sample Note":
        - paragraph: Self sign sample Note
      - cell "OpenSignâ„¢ Drive"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ïŒ„ ï‡¸ ï…‚":
        - button "ïŒ„"
        - button "ï‡¸"
        - button "ï…‚"
    - row "Draft doc rpt Sample offer letter Note Draft doc rpt OpenSignâ„¢ Drive Download Pravin Testing account - ïŒ„ ï‡¸ ï…‚":
      - cell "Draft doc rpt Sample offer letter"
      - cell "Note Draft doc rpt":
        - paragraph: Note Draft doc rpt
      - cell "OpenSignâ„¢ Drive"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "-"
      - cell "ïŒ„ ï‡¸ ï…‚":
        - button "ïŒ„"
        - button "ï‡¸"
        - button "ï…‚"
    - row "Sample document Self sign Self sign sample Note OpenSignâ„¢ Drive Download Pravin Testing account View ïŒ„ ï‡¸ ï…‚":
      - cell "Sample document Self sign"
      - cell "Self sign sample Note":
        - paragraph: Self sign sample Note
      - cell "OpenSignâ„¢ Drive"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ïŒ„ ï‡¸ ï…‚":
        - button "ïŒ„"
        - button "ï‡¸"
        - button "ï…‚"
    - row "Sample document Self sign Self sign sample Note OpenSignâ„¢ Drive Download Pravin Testing account - ïŒ„ ï‡¸ ï…‚":
      - cell "Sample document Self sign"
      - cell "Self sign sample Note":
        - paragraph: Self sign sample Note
      - cell "OpenSignâ„¢ Drive"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "-"
      - cell "ïŒ„ ï‡¸ ï…‚":
        - button "ïŒ„"
        - button "ï‡¸"
        - button "ï…‚"
    - row "Sample document Self sign Self sign sample Note OpenSignâ„¢ Drive Download Pravin Testing account View ïŒ„ ï‡¸ ï…‚":
      - cell "Sample document Self sign"
      - cell "Self sign sample Note":
        - paragraph: Self sign sample Note
      - cell "OpenSignâ„¢ Drive"
      - cell "Download":
        - button "Download"
      - cell "Pravin Testing account"
      - cell "View":
        - button "View"
      - cell "ïŒ„ ï‡¸ ï…‚":
        - button "ïŒ„"
        - button "ï‡¸"
        - button "ï…‚"
- button "Prev"
- button "1"
- button "2"
- button "3"
- button "4"
- button "Next"
- contentinfo:
  - complementary:
    - paragraph: "All rights reserved Â© 2025 OpenSignâ„¢ ( version: v2.19.2 )"
```

# Test source

```ts
  772 |   } catch (error) {
  773 |     console.log("Element not found or not interactable, continuing execution.");
  774 |    
  775 |   }
  776 |
  777 | await page.getByRole('button', { name: 'Next' }).click();
  778 |  // await expect(page.getByRole('heading')).toContainText('Create document');
  779 |   await page.locator('//dialog[@id="selectSignerModal"]//button[text()="Bulk send"]').click();
  780 |   await page.locator('//dialog[@id="selectSignerModal"]//input[@type="email" and @placeholder="Enter Email..."]').fill("andyamaya@nxglabs.in");
  781 |   await page.locator('//dialog[@id="selectSignerModal"]//span[text()="Send"]').click();
  782 |   await page.getByRole('menuitem', { name: 'Dashboard' }).click();
  783 | // Wait up to 90 seconds for the text to appear
  784 | await page.locator('#renderList').waitFor({ state: 'visible', timeout: 90000 });
  785 | // Now assert the text
  786 | await expect(page.locator('//div[@data-tut="tourreport2"]//div[text()="Recently sent for signatures"]')).toBeVisible({ timeout: 12000 });
  787 | await expect(page.locator('//div[@data-tut="tourreport2"]//div[@class="font-semibold break-words"]').first()).toContainText('Offer Letter for QA11');
  788 | await expect(page.locator('//div[@data-tut="tourreport2"]//td[2]').first()).toContainText('Download');
  789 | await expect(page.locator('//div[@data-tut="tourreport2"]//td[3]').first()).toContainText('Pravin Testing account');  
  790 | await page.locator('//div[@data-tut="tourreport2"]//div[@role="button"and @title="Share"]').first().click();
  791 | await expect(page.locator('//div[@class="m-[20px]"]//div[1]//span[1]')).toContainText('andyamaya@nxglabs.in');
  792 |
  793 | });
  794 |
  795 | test('Verify that the user can rename and delete a document from the dashboard Recently sent for signatures.', async ({ page }) => {
  796 |   const commonSteps = new CommonSteps(page);
  797 |   // Step 1: Navigate to Base URL and log in
  798 |   await commonSteps.navigateToBaseUrl();
  799 |   await commonSteps.login();
  800 | //const title = await page.title()
  801 |   //Expects page to have a heading with the name of dashboard.
  802 | //expect(title).toBe('Dashboard - OpenSignâ„¢');
  803 | await page.getByRole('menuitem', { name: 'Request signatures' }).click();
  804 |   await page.locator('input[name="Name"]').click();
  805 |   await page.locator('input[name="Name"]').fill('Offer Letter for QA1144');
  806 |   await page.locator('input[name="Note"]').click();
  807 |   const fileChooserPromise = page.waitForEvent('filechooser');
  808 | await page.locator('input[type="file"]').click();
  809 | const fileChooser = await fileChooserPromise;
  810 | await fileChooser.setFiles(path.join(__dirname, '../TestData/Samplepdfs/Sample-Joining-Letter.pdf'));
  811 | await page.locator('div').filter({ hasText: /^Signers\*Select\.\.\.$/ }).locator('svg').click();
  812 | await page.getByRole('option', { name: 'Pravin Testing account<pravin' }).click();
  813 | await page.locator('input[name="Name"]').click();
  814 | await expect(page.getByRole('button', { name: 'Next' })).toBeEnabled({ timeout: 90000 }); // Wait up to 90s
  815 | await page.getByRole('button', { name: 'Next' }).click();
  816 | await page.waitForLoadState("networkidle");
  817 | await page.waitForSelector('//div[@class=\'react-pdf__Document\']', { timeout: 90000 }); 
  818 | await page.locator('//span[normalize-space()="signature"]').waitFor({ state: 'visible', timeout: 90000 });
  819 | await expect(page.locator('//span[normalize-space()=\'signature\']')).toBeVisible();
  820 | await page.locator('//span[normalize-space()=\'signature\']').hover();
  821 | await page.mouse.down();
  822 | await page.mouse.move(600, 300)
  823 | await page.mouse.up();
  824 | try {
  825 |   const rowLocator = page.locator('//div[@class="select-none-cls overflow-hidden w-full h-full text-black flex flex-col justify-center items-center"]//div[@class="font-medium"and text()="signature"]');
  826 |
  827 |   for (let i = 0; i < 5; i++) { // Retry up to 5 times
  828 |       if (await rowLocator.isVisible() && await rowLocator.isEnabled()) {
  829 |       
  830 |           console.log("signature widget dragged and dropped");
  831 |           break; // Exit the loop if successfully clicked
  832 |       } else {
  833 |           console.log(`Attempt ${i + 1}: signature widget not visible on the document, performing actions...`);
  834 |   
  835 |           await page.locator('//span[normalize-space()="signature"]').hover();
  836 |           await page.mouse.down();
  837 |           await page.mouse.move(800, 300);
  838 |           await page.mouse.up();
  839 |           
  840 |           // Wait a bit before checking again
  841 |           await page.waitForTimeout(1000);
  842 |       }
  843 |   
  844 |       if (i === 5) {
  845 |           console.log("signature widget did not become visible on the document after multiple attempts.");
  846 |       }
  847 |   }
  848 | } catch (error) {
  849 |   console.log("Element not found or not interactable, continuing execution.");
  850 |  
  851 | }
  852 | await page.getByRole('button', { name: 'Next' }).click();
  853 | //await expect(page.locator('#selectSignerModal')).toContainText('Are you sure you want to send out this document for signatures?');
  854 | await page.getByRole('button', { name: 'Send' }).click();
  855 | //await expect(page.locator('//h3[text()=\'Mails Sent\']')).toContainText('Mails Sent');
  856 | await expect(page.locator('#selectSignerModal canvas')).toBeVisible();
  857 | await expect(page.locator('#selectSignerModal')).toContainText('Mails Sentâœ•Subsequent signers will get email(s) once you signs the document.Do you want to sign the document right now?YesNoHow was your experience with OpenSignâ„¢?ðŸ˜¡0-3ðŸ˜4-6ðŸ˜Š7-8ðŸ˜9-10Submit');
  858 | await page.getByRole('button', { name: 'No' }).click();
  859 | await page.getByRole('menuitem', { name: 'Dashboard' }).click();
  860 | // Wait up to 90 seconds for the text to appear
  861 | await page.locator('#renderList').waitFor({ state: 'visible', timeout: 90000 });
  862 | await page.locator('//div[@data-tut="tourreport2"]//i[@class="fa-light fa-ellipsis-vertical fa-lg"]').first().click();
  863 | await page.locator('//span[contains(text(),"Rename")]').click();
  864 | await page.locator('//div[@class="flex flex-col gap-2"]/input[@maxlength="200" and @type="text"]').fill('Sample-joining-letter-2025');
  865 | await page.getByRole('button', { name: 'Save' }).click();
  866 | await expect(page.locator('//div[@data-tut="tourreport2"]//tr[1]//div[@class="font-semibold break-words"]')).toContainText('Sample-joining-letter-2025');
  867 | await page.locator('//div[@data-tut="tourreport2"]//i[@class="fa-light fa-ellipsis-vertical fa-lg"]').first().click();
  868 | await page.locator('//span[contains(text(),"Delete")]').click();
  869 | await expect(page.getByRole('heading')).toContainText('Delete document');
  870 |   await expect(page.locator('#selectSignerModal')).toContainText('Are you sure you want to delete this document?');
  871 |   await page.getByRole('button', { name: 'Yes' }).click();
> 872 |   await expect(page.locator('#renderList')).toContainText('Record deleted successfully!');
      |                                             ^ Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)
  873 |   try {
  874 |     await expect(page.locator('//div[@data-tut="tourreport2"]//tr[1]//div[@class="font-semibold break-words"]')).toContainText('Sample-joining-letter-2025');
  875 | } catch (error) {
  876 |     console.log("Document not found in the table, successfully deleted!");
  877 | }
  878 | });
  879 |
  880 | test('Verify that user can resend the email from the dashboard Recently sent for signatures.', async ({ page }) => {
  881 |   const commonSteps = new CommonSteps(page);
  882 |   // Step 1: Navigate to Base URL and log in
  883 |   await commonSteps.navigateToBaseUrl();
  884 |   await commonSteps.login();
  885 | //const title = await page.title()
  886 |   //Expects page to have a heading with the name of dashboard.
  887 | //expect(title).toBe('Dashboard - OpenSignâ„¢');
  888 | await page.getByRole('menuitem', { name: 'Request signatures' }).click();
  889 |   await page.locator('input[name="Name"]').click();
  890 |   await page.locator('input[name="Name"]').fill('Offer Letter for QA1144');
  891 |   await page.locator('input[name="Note"]').click();
  892 |   const fileChooserPromise = page.waitForEvent('filechooser');
  893 | await page.locator('input[type="file"]').click();
  894 | const fileChooser = await fileChooserPromise;
  895 | await fileChooser.setFiles(path.join(__dirname, '../TestData/Samplepdfs/Sample-Joining-Letter.pdf'));
  896 | await page.locator('div').filter({ hasText: /^Signers\*Select\.\.\.$/ }).locator('svg').click();
  897 | await page.getByRole('option', { name: 'Pravin Testing account<pravin' }).click();
  898 | await page.locator('input[name="Name"]').click();
  899 | await expect(page.getByRole('button', { name: 'Next' })).toBeEnabled({ timeout: 90000 }); // Wait up to 90s
  900 | await page.getByRole('button', { name: 'Next' }).click();
  901 | await page.waitForLoadState("networkidle");
  902 | await page.waitForSelector('//div[@class=\'react-pdf__Document\']', { timeout: 90000 }); 
  903 | await page.locator('//span[normalize-space()="signature"]').waitFor({ state: 'visible', timeout: 90000 });
  904 | await expect(page.locator('//span[normalize-space()=\'signature\']')).toBeVisible();
  905 | await page.locator('//span[normalize-space()=\'signature\']').hover();
  906 | await page.mouse.down();
  907 | await page.mouse.move(600, 300)
  908 | await page.mouse.up();
  909 | try {
  910 |   const rowLocator = page.locator('//div[@class="select-none-cls overflow-hidden w-full h-full text-black flex flex-col justify-center items-center"]//div[@class="font-medium"and text()="signature"]');
  911 |
  912 |   for (let i = 0; i < 5; i++) { // Retry up to 5 times
  913 |       if (await rowLocator.isVisible() && await rowLocator.isEnabled()) {
  914 |       
  915 |           console.log("signature widget dragged and dropped");
  916 |           break; // Exit the loop if successfully clicked
  917 |       } else {
  918 |           console.log(`Attempt ${i + 1}: signature widget not visible on the document, performing actions...`);
  919 |   
  920 |           await page.locator('//span[normalize-space()="signature"]').hover();
  921 |           await page.mouse.down();
  922 |           await page.mouse.move(800, 300);
  923 |           await page.mouse.up();
  924 |           
  925 |           // Wait a bit before checking again
  926 |           await page.waitForTimeout(1000);
  927 |       }
  928 |   
  929 |       if (i === 5) {
  930 |           console.log("signature widget did not become visible on the document after multiple attempts.");
  931 |       }
  932 |   }
  933 | } catch (error) {
  934 |   console.log("Element not found or not interactable, continuing execution.");
  935 |  
  936 | }
  937 | await page.getByRole('button', { name: 'Next' }).click();
  938 | //await expect(page.locator('#selectSignerModal')).toContainText('Are you sure you want to send out this document for signatures?');
  939 | await page.getByRole('button', { name: 'Send' }).click();
  940 | await expect(page.locator('//h3[text()=\'Mails Sent\']')).toContainText('Mails Sent');
  941 | await expect(page.locator('#selectSignerModal canvas')).toBeVisible();
  942 | await expect(page.locator('#selectSignerModal')).toContainText('Mails Sentâœ•Subsequent signers will get email(s) once you signs the document.Do you want to sign the document right now?YesNoHow was your experience with OpenSignâ„¢?ðŸ˜¡0-3ðŸ˜4-6ðŸ˜Š7-8ðŸ˜9-10Submit');
  943 | await page.getByRole('button', { name: 'No' }).click();
  944 | await page.getByRole('menuitem', { name: 'Dashboard' }).click();
  945 | // Wait up to 90 seconds for the text to appear
  946 | await page.locator('#renderList').waitFor({ state: 'visible', timeout: 90000 });
  947 | await page.locator('//div[@data-tut="tourreport2"]//i[@class="fa-light fa-ellipsis-vertical fa-lg"]').first().click();
  948 | await page.locator('//span[contains(text(),"Resend")]').click();
  949 | await expect(page.getByRole('heading')).toContainText('Resend mail');
  950 |   await expect(page.locator('#selectSignerModal')).toContainText('Pravin Testing account <pravin+testaccount@nxglabs.in>');
  951 |   await page.getByRole('button', { name: 'Resend' }).click();
  952 |   await page.getByRole('button', { name: 'Resend' }).click();
  953 |   await expect(page.locator('#renderList')).toContainText('Mail sent successfully.');
  954 |
  955 | });
  956 | test('Verify that the user can revoke the document from the dashboard Recently sent for signatures.', async ({ page }) => {
  957 |   const commonSteps = new CommonSteps(page);
  958 |   // Step 1: Navigate to Base URL and log in
  959 |   await commonSteps.navigateToBaseUrl();
  960 |   await commonSteps.login();
  961 | //const title = await page.title()
  962 |   //Expects page to have a heading with the name of dashboard.
  963 | //expect(title).toBe('Dashboard - OpenSignâ„¢');
  964 | await page.getByRole('menuitem', { name: 'Request signatures' }).click();
  965 |  
  966 |   const fileChooserPromise = page.waitForEvent('filechooser');
  967 | await page.locator('input[type="file"]').click();
  968 | const fileChooser = await fileChooserPromise;
  969 | await fileChooser.setFiles(path.join(__dirname, '../TestData/Samplepdfs/Sample-Joining-Letter.pdf'));
  970 | await page.locator('div').filter({ hasText: /^Signers\*Select\.\.\.$/ }).locator('svg').click();
  971 | await page.getByRole('option', { name: 'Pravin Testing account<pravin' }).click();
  972 | await page.locator('input[name="Name"]').click();
```